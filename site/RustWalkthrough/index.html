



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.1.0">
    
    
      
        <title>Learn Rust - Enigma Protocol</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.982221ab.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="#3f51b5">
      
    
    
      <script src="../assets/javascripts/modernizr.01ccdecf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="pink">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#an-introduction-to-rust" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Enigma Protocol" class="md-header-nav__button md-logo">
          
            <img src="../images/enigmawhite.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Enigma Protocol
            </span>
            <span class="md-header-nav__topic">
              Learn Rust
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Enigma Protocol" class="md-nav__button md-logo">
      
        <img src="../images/enigmawhite.png" width="48" height="48">
      
    </a>
    Enigma Protocol
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="About Enigma" class="md-nav__link">
      About Enigma
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../NewForDiscovery/" title="About Discovery" class="md-nav__link">
      About Discovery
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Walkthrough/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      EnigmaJS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        EnigmaJS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../IntroductionToEnigmaJS/" title="About EnigmaJS" class="md-nav__link">
      About EnigmaJS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../API/" title="API" class="md-nav__link">
      API
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Secret Contracts
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Secret Contracts
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../SecretContracts/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SecretContractExamples/" title="Examples" class="md-nav__link">
      Examples
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Learn Rust
      </label>
    
    <a href="./" title="Learn Rust" class="md-nav__link md-nav__link--active">
      Learn Rust
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setting-up" title="Setting Up" class="md-nav__link">
    Setting Up
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#program-design" title="Program Design" class="md-nav__link">
    Program Design
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-your-program" title="Writing your Program" class="md-nav__link">
    Writing your Program
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-structs" title="Data Structs" class="md-nav__link">
    Data Structs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-and-method-implementation" title="Function and Method Implementation" class="md-nav__link">
    Function and Method Implementation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-a-millionaire" title="Adding a Millionaire" class="md-nav__link">
    Adding a Millionaire
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#computing-the-richest-millionaire" title="Computing the Richest Millionaire" class="md-nav__link">
    Computing the Richest Millionaire
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" title="Summary" class="md-nav__link">
    Summary
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../IntroductionToDeployment/" title="Deploy Discovery" class="md-nav__link">
      Deploy Discovery
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SecretContractWalkthrough/" title="Write a Secret Contract" class="md-nav__link">
      Write a Secret Contract
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../FAQ/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Reference
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../IntroductionToReference/" title="About Reference" class="md-nav__link">
      About Reference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../EnigmaOverview/" title="Enigma Technical Overview" class="md-nav__link">
      Enigma Technical Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SecretContractEngine/" title="Secret Contract Engine" class="md-nav__link">
      Secret Contract Engine
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Glossary/" title="Glossary" class="md-nav__link">
      Glossary
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setting-up" title="Setting Up" class="md-nav__link">
    Setting Up
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#program-design" title="Program Design" class="md-nav__link">
    Program Design
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-your-program" title="Writing your Program" class="md-nav__link">
    Writing your Program
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-structs" title="Data Structs" class="md-nav__link">
    Data Structs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-and-method-implementation" title="Function and Method Implementation" class="md-nav__link">
    Function and Method Implementation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-a-millionaire" title="Adding a Millionaire" class="md-nav__link">
    Adding a Millionaire
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#computing-the-richest-millionaire" title="Computing the Richest Millionaire" class="md-nav__link">
    Computing the Richest Millionaire
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" title="Summary" class="md-nav__link">
    Summary
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="an-introduction-to-rust">An Introduction to Rust</h1>
<p>To help developers who are new to Rust or the Enigma protocol get a firm understanding of how secret contracts are written, this section outlines how to write a standalone Rust program that will be used to solve a classic connundrum - <a href="https://en.wikipedia.org/wiki/Yao%27s_Millionaires%27_Problem">Yao's Millionaire Problem</a>.</p>
<p>To begin, you will need to ensure that you have <a href="https://www.rust-lang.org/tools/install">Rust installed</a> on your system, as well as a basic understanding of how <a href="https://github.com/rust-lang/cargo">Cargo</a> operates. Note that there are several Rust features and concepts mentioned in the sections below, some of which only lightly touched on - if you would like to learn more about syntax or the language itself, it is recomended to consult the open-source <a href="https://doc.rust-lang.org/book/ch00-00-introduction.html">Rust Book</a>, which contains a variety of great examples and explanations curated by the community itself.</p>
<p>For the full source code of the program below, see <a href="#">this repository</a>.</p>
<h2 id="setting-up">Setting Up</h2>
<ol>
<li>In your terminal, issue the command <code>cargo new rust_millionaires_problem</code> to create a new project.</li>
<li>Enter your new project directory with the command <code>cd rust_millionaires_problem</code>.</li>
<li>Within this new directory there is a file named <code>Cargo.toml</code>. This is your <em>project manifest</em>, and it contains information about the author, versioning and dependencies. This should have been autopopulated from your Rust installation, though ensure the contents are similar to this:</li>
</ol>
<pre><code>[package]
name = &quot;rust_millionaires_demo&quot;
version = &quot;0.1.0&quot;
authors = [&quot;&lt;name&gt; &lt;&lt;email&gt;&gt;&quot;]

[dependencies]
</code></pre>

<h2 id="program-design">Program Design</h2>
<p>As with all programs, we must break down the problem at hand and address each component individually. The intended logic is depicted in the graphic below.</p>
<p><img alt="alt text" src="https://i.imgur.com/SB6ZGc5.png" /></p>
<p>This basic flow can be represented in four steps:</p>
<ol>
<li>Creating a new Millionaires’ Problem (this object should maintain a list of millionaires)</li>
<li>Add millionaire 1 (object containing address / net worth) with name Bob and net worth 1,000,000</li>
<li>Add millionaire 2 (object containing address / net worth) with name Alice and net worth 2,000,000</li>
<li>Compute the richest millionaire, returning the appropriate address/name</li>
</ol>
<h2 id="writing-your-program">Writing your Program</h2>
<h3 id="data-structs">Data Structs</h3>
<p><a href="https://doc.rust-lang.org/book/ch05-00-structs.html">Structs</a> are data types that let you package together multiple related values and reference them with attribute fields and one collective name. To begin writing our program, we will be implementing a struct that will represent the Millionaires Problem itself.</p>
<p>To create this struct, open <code>src/lib.rs</code> in your text editor and replace the contents with the following:</p>
<pre><code class="rust">pub struct MillionairesProblem {
  millionaires: Vec&lt;Millionaire&gt;,
}
</code></pre>

<p>This implements a basic <em>struct</em> with a single field named <code>Millionaire</code>. </p>
<p>Next, a second struct must be implemented to represent the individual millionaires. This time two attribute fields will be added, one to track each millionaires address, and the other for net worth.</p>
<pre><code class="rust">pub struct Millionaire {
  address: String,    // &lt;field name&gt;: &lt;field type&gt;
  net_worth: u64,     // &lt;field name&gt;: &lt;field type&gt;
}
</code></pre>

<h3 id="function-and-method-implementation">Function and Method Implementation</h3>
<p>We must now implement our programs primary logic - generating the millionaires problem itself. To do this we create a <a href="https://doc.rust-lang.org/book/ch03-03-how-functions-work.html">function</a>, and place it inside a <a href="https://doc.rust-lang.org/book/ch05-03-method-syntax.html">implementation block</a> like so:</p>
<pre><code class="rust">impl MillionairesProblem {
 pub fn new() -&gt; MillionairesProblem {
  MillionairesProblem {
      millionaires: Vec::new(),
  }
 }
}
</code></pre>

<p>The last line of this section creates an empty <a href="https://doc.rust-lang.org/book/ch08-01-vectors.html">vector</a> when the Millionaires Problem is initialised.
Also note that the <code>impl</code> block has the same name as the <code>MillionairesProblem</code> struct we defined above, and thus functions and methods we implement here refer to the same context.</p>
<h3 id="adding-a-millionaire">Adding a Millionaire</h3>
<p>In order to add a new millionaire, we will define a <code>method</code> in the <code>impl</code> block like this:</p>
<pre><code class="rust">pub fn add_millionaire(&amp;mut self, address: String, net_worth: u64) {
  let millionaire = Millionaire {
      address,
      net_worth,
  };
  self.millionaires.push(millionaire);
}
</code></pre>

<p>NOTE: Methods, unlike traditional functions and associated functions, always start with self as the first parameter, which represents the instance of the struct this method is being called on. In this case, we prefix self with <code>&amp;mut</code>. The <code>&amp;</code> touches upon the topic of <a href="https://doc.rust-lang.org/book/ch04-00-understanding-ownership.html">ownership</a>, a big contributor to Rusts memory efficiency. It is reccomended to take the time to understand ownership, and how it can improve your development experience down the road.</p>
<h3 id="computing-the-richest-millionaire">Computing the Richest Millionaire</h3>
<p>The final method we will write is to compute the richest millionaire.</p>
<pre><code class="rust">pub fn compute_richest(&amp;self) -&gt; &amp;str {
  match self.millionaires.iter().max_by_key(|m| m.net_worth) {
      Some(millionaire) =&gt; &amp;millionaire.address[..],
      None =&gt; &quot;None&quot;
  }
}
</code></pre>

<h2 id="summary">Summary</h2>
<p>Congratulations, you've just made your first secret contract library! To summarize, we first created two structs: <code>MillionairesProblem</code> and <code>Millionaire</code>, then created an <code>impl</code> block to further the functionality of the <code>MillionairesProblem</code>, and two methods to allow us to add a new millionaire and compute the richest millionaire.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../SecretContractExamples/" title="Examples" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Examples
              </span>
            </div>
          </a>
        
        
          <a href="../IntroductionToDeployment/" title="Deploy Discovery" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Deploy Discovery
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.2ba8dec4.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>
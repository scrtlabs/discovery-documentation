



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.1.0">
    
    
      
        <title>API - Enigma Protocol</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.982221ab.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="#3f51b5">
      
    
    
      <script src="../assets/javascripts/modernizr.01ccdecf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="pink">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#functions" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Enigma Protocol" class="md-header-nav__button md-logo">
          
            <img src="../images/enigmawhite.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Enigma Protocol
            </span>
            <span class="md-header-nav__topic">
              API
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Enigma Protocol" class="md-nav__button md-logo">
      
        <img src="../images/enigmawhite.png" width="48" height="48">
      
    </a>
    Enigma Protocol
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="About Enigma" class="md-nav__link">
      About Enigma
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../NewForDiscovery/" title="About Discovery" class="md-nav__link">
      About Discovery
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Walkthrough/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      EnigmaJS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        EnigmaJS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../IntroductionToEnigmaJS/" title="About EnigmaJS" class="md-nav__link">
      About EnigmaJS
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        API
      </label>
    
    <a href="./" title="API" class="md-nav__link md-nav__link--active">
      API
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#functions" title="Functions" class="md-nav__link">
    Functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#admin" title="admin()" class="md-nav__link">
    admin()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#createcontractsenigmacontractaddr-tokencontractaddr" title="createContracts(enigmaContractAddr, tokenContractAddr)" class="md-nav__link">
    createContracts(enigmaContractAddr, tokenContractAddr)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#createtaskfn-args-gaslimit-gaspx-sender-scaddrorprecode-iscontractdeploymenttask-task" title="createTask(fn, args, gasLimit, gasPx, sender, scAddrOrPreCode, isContractDeploymentTask) ⇒ Task" class="md-nav__link">
    createTask(fn, args, gasLimit, gasPx, sender, scAddrOrPreCode, isContractDeploymentTask) ⇒ Task
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#createtaskrecordtask-eventemitter" title="createTaskRecord(task) ⇒ EventEmitter" class="md-nav__link">
    createTaskRecord(task) ⇒ EventEmitter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#createtaskrecordstasks-eventemitter" title="createTaskRecords(tasks) ⇒ EventEmitter" class="md-nav__link">
    createTaskRecords(tasks) ⇒ EventEmitter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gettaskrecordstatustask-promise" title="getTaskRecordStatus(task) ⇒ Promise" class="md-nav__link">
    getTaskRecordStatus(task) ⇒ Promise
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getreportcustodian-promise" title="getReport(custodian) ⇒ Promise" class="md-nav__link">
    getReport(custodian) ⇒ Promise
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getworkerparamsblocknumber-promise" title="getWorkerParams(blockNumber) ⇒ Promise" class="md-nav__link">
    getWorkerParams(blockNumber) ⇒ Promise
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#selectworkergroupscaddr-params-workergroupsize-array" title="selectWorkerGroup(scAddr, params, workerGroupSize) ⇒ Array" class="md-nav__link">
    selectWorkerGroup(scAddr, params, workerGroupSize) ⇒ Array
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sendtaskinputtask-eventemitter" title="sendTaskInput(task) ⇒ EventEmitter" class="md-nav__link">
    sendTaskInput(task) ⇒ EventEmitter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gettaskresulttask-eventemitter" title="getTaskResult(task) ⇒ EventEmitter" class="md-nav__link">
    getTaskResult(task) ⇒ EventEmitter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#polltaskstatusgentask-withresult" title="pollTaskStatusGen(task, withResult)" class="md-nav__link">
    pollTaskStatusGen(task, withResult)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#innerpolltaskstatustask-generator-emitter" title="innerPollTaskStatus(task, generator, emitter)" class="md-nav__link">
    innerPollTaskStatus(task, generator, emitter)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#polltaskstatustask-withresult-eventemitter" title="pollTaskStatus(task, withResult) ⇒ EventEmitter" class="md-nav__link">
    pollTaskStatus(task, withResult) ⇒ EventEmitter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serializetasktask-object" title="serializeTask(task) ⇒ Object" class="md-nav__link">
    serializeTask(task) ⇒ Object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#obtaintaskkeypair-object" title="obtainTaskKeyPair() ⇒ Object" class="md-nav__link">
    obtainTaskKeyPair() ⇒ Object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploysecretcontractfn-args-gaslimit-gaspx-sender-precode-task" title="deploySecretContract(fn, args, gasLimit, gasPx, sender, preCode) ⇒ Task" class="md-nav__link">
    deploySecretContract(fn, args, gasLimit, gasPx, sender, preCode) ⇒ Task
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#computetaskfn-args-gaslimit-gaspx-sender-scaddr-task" title="computeTask(fn, args, gasLimit, gasPx, sender, scAddr) ⇒ Task" class="md-nav__link">
    computeTask(fn, args, gasLimit, gasPx, sender, scAddr) ⇒ Task
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-string" title="version() ⇒ string" class="md-nav__link">
    version() ⇒ string
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Secret Contracts
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Secret Contracts
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../SecretContracts/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SecretContractExamples/" title="Examples" class="md-nav__link">
      Examples
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../RustWalkthrough/" title="Learn Rust" class="md-nav__link">
      Learn Rust
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../IntroductionToDeployment/" title="Deploy Discovery" class="md-nav__link">
      Deploy Discovery
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SecretContractWalkthrough/" title="Write a Secret Contract" class="md-nav__link">
      Write a Secret Contract
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../FAQ/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Reference
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../IntroductionToReference/" title="About Reference" class="md-nav__link">
      About Reference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../EnigmaOverview/" title="Enigma Technical Overview" class="md-nav__link">
      Enigma Technical Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SecretContractEngine/" title="Secret Contract Engine" class="md-nav__link">
      Secret Contract Engine
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Glossary/" title="Glossary" class="md-nav__link">
      Glossary
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#functions" title="Functions" class="md-nav__link">
    Functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#admin" title="admin()" class="md-nav__link">
    admin()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#createcontractsenigmacontractaddr-tokencontractaddr" title="createContracts(enigmaContractAddr, tokenContractAddr)" class="md-nav__link">
    createContracts(enigmaContractAddr, tokenContractAddr)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#createtaskfn-args-gaslimit-gaspx-sender-scaddrorprecode-iscontractdeploymenttask-task" title="createTask(fn, args, gasLimit, gasPx, sender, scAddrOrPreCode, isContractDeploymentTask) ⇒ Task" class="md-nav__link">
    createTask(fn, args, gasLimit, gasPx, sender, scAddrOrPreCode, isContractDeploymentTask) ⇒ Task
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#createtaskrecordtask-eventemitter" title="createTaskRecord(task) ⇒ EventEmitter" class="md-nav__link">
    createTaskRecord(task) ⇒ EventEmitter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#createtaskrecordstasks-eventemitter" title="createTaskRecords(tasks) ⇒ EventEmitter" class="md-nav__link">
    createTaskRecords(tasks) ⇒ EventEmitter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gettaskrecordstatustask-promise" title="getTaskRecordStatus(task) ⇒ Promise" class="md-nav__link">
    getTaskRecordStatus(task) ⇒ Promise
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getreportcustodian-promise" title="getReport(custodian) ⇒ Promise" class="md-nav__link">
    getReport(custodian) ⇒ Promise
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getworkerparamsblocknumber-promise" title="getWorkerParams(blockNumber) ⇒ Promise" class="md-nav__link">
    getWorkerParams(blockNumber) ⇒ Promise
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#selectworkergroupscaddr-params-workergroupsize-array" title="selectWorkerGroup(scAddr, params, workerGroupSize) ⇒ Array" class="md-nav__link">
    selectWorkerGroup(scAddr, params, workerGroupSize) ⇒ Array
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sendtaskinputtask-eventemitter" title="sendTaskInput(task) ⇒ EventEmitter" class="md-nav__link">
    sendTaskInput(task) ⇒ EventEmitter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gettaskresulttask-eventemitter" title="getTaskResult(task) ⇒ EventEmitter" class="md-nav__link">
    getTaskResult(task) ⇒ EventEmitter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#polltaskstatusgentask-withresult" title="pollTaskStatusGen(task, withResult)" class="md-nav__link">
    pollTaskStatusGen(task, withResult)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#innerpolltaskstatustask-generator-emitter" title="innerPollTaskStatus(task, generator, emitter)" class="md-nav__link">
    innerPollTaskStatus(task, generator, emitter)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#polltaskstatustask-withresult-eventemitter" title="pollTaskStatus(task, withResult) ⇒ EventEmitter" class="md-nav__link">
    pollTaskStatus(task, withResult) ⇒ EventEmitter
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serializetasktask-object" title="serializeTask(task) ⇒ Object" class="md-nav__link">
    serializeTask(task) ⇒ Object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#obtaintaskkeypair-object" title="obtainTaskKeyPair() ⇒ Object" class="md-nav__link">
    obtainTaskKeyPair() ⇒ Object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploysecretcontractfn-args-gaslimit-gaspx-sender-precode-task" title="deploySecretContract(fn, args, gasLimit, gasPx, sender, preCode) ⇒ Task" class="md-nav__link">
    deploySecretContract(fn, args, gasLimit, gasPx, sender, preCode) ⇒ Task
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#computetaskfn-args-gaslimit-gaspx-sender-scaddr-task" title="computeTask(fn, args, gasLimit, gasPx, sender, scAddr) ⇒ Task" class="md-nav__link">
    computeTask(fn, args, gasLimit, gasPx, sender, scAddr) ⇒ Task
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-string" title="version() ⇒ string" class="md-nav__link">
    version() ⇒ string
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>API</h1>
                
                <h2 id="functions">Functions</h2>
<dl>

<dt><a href="#admin">admin()</a></dt>

<dd><p>Initialize the worker-specific admin features</p>

</dd>

<dt><a href="#createContracts">createContracts(enigmaContractAddr, tokenContractAddr)</a></dt>

<dd><p>Initialize the Enigma and Enigma token contracts</p>

</dd>

<dt><a href="#createTask">createTask(fn, args, gasLimit, gasPx, sender, scAddrOrPreCode, isContractDeploymentTask)</a> ⇒ <code>Task</code></dt>

<dd><p>Create a base Task - a wrapper for a task (either contract deployments or regular tasks)</p>

</dd>

<dt><a href="#createTaskRecord">createTaskRecord(task)</a> ⇒ <code>EventEmitter</code></dt>

<dd><p>Create and store a task record on chain (ETH). Task records are necessary for collecting the ENG computation fee

and computing the immutable taskId (a unique value for each task computed from hash(hash(encrypted function

signature, encrypted ABI-encoded arguments, gas limit, gas price, user&#39;s public key), user&#39;s nonce value

monotonically increasing for every task deployment). Thus, task records have important implications for task

ordering, fee payments, and verification.</p>

</dd>

<dt><a href="#createTaskRecords">createTaskRecords(tasks)</a> ⇒ <code>EventEmitter</code></dt>

<dd><p>Create and store task records on chain (ETH). Task records are necessary for collecting the ENG computation fee

and computing the immutable taskId (a unique value for each task computed from hash(hash(encrypted function

signature, encrypted ABI-encoded arguments, gas limit, gas price, user&#39;s public key), user&#39;s nonce value

monotonically increasing for every task deployment). Thus, task records have important implications for task

ordering, fee payments, and verification.</p>

</dd>

<dt><a href="#getTaskRecordStatus">getTaskRecordStatus(task)</a> ⇒ <code>Promise</code></dt>

<dd><p>Get the Task&#39;s task record status from Ethereum</p>

</dd>

<dt><a href="#getReport">getReport(custodian)</a> ⇒ <code>Promise</code></dt>

<dd><p>Find SGX report</p>

</dd>

<dt><a href="#getWorkerParams">getWorkerParams(blockNumber)</a> ⇒ <code>Promise</code></dt>

<dd><p>Given a block number, obtain the worker parameters. These parameters remain the same for a given secret

contract and epoch (fixed number of blocks). These parameters are cached until the epoch changes.</p>

</dd>

<dt><a href="#selectWorkerGroup">selectWorkerGroup(scAddr, params, workerGroupSize)</a> ⇒ <code>Array</code></dt>

<dd><p>Select the workers weighted-randomly based on the staked token amount that will run the computation task</p>

</dd>

<dt><a href="#sendTaskInput">sendTaskInput(task)</a> ⇒ <code>EventEmitter</code></dt>

<dd><p>Send Task to Enigma p2p network for computation</p>

</dd>

<dt><a href="#getTaskResult">getTaskResult(task)</a> ⇒ <code>EventEmitter</code></dt>

<dd><p>Get task result from p2p network</p>

</dd>

<dt><a href="#pollTaskStatusGen">pollTaskStatusGen(task, withResult)</a></dt>

<dd><p>Generator function for polling the Enigma p2p network for task status</p>

</dd>

<dt><a href="#innerPollTaskStatus">innerPollTaskStatus(task, generator, emitter)</a></dt>

<dd><p>Inner poll status function that continues to poll the Enigma p2p network until the task has been verified</p>

</dd>

<dt><a href="#pollTaskStatus">pollTaskStatus(task, withResult)</a> ⇒ <code>EventEmitter</code></dt>

<dd><p>Poll the Enigma p2p network for a TaskInput&#39;s status</p>

</dd>

<dt><a href="#serializeTask">serializeTask(task)</a> ⇒ <code>Object</code></dt>

<dd><p>Serialize Task for submission to the Enigma p2p network</p>

</dd>

<dt><a href="#obtainTaskKeyPair">obtainTaskKeyPair()</a> ⇒ <code>Object</code></dt>

<dd><p>Deterministically generate a key-secret pair necessary for deriving a shared encryption key with the selected

worker. This pair will be stored in local storage for quick retrieval.</p>

</dd>

<dt><a href="#deploySecretContract">deploySecretContract(fn, args, gasLimit, gasPx, sender, preCode)</a> ⇒ <code>Task</code></dt>

<dd><p>Create a task to deploy a secret contract - creates base task, creates task record, and sends task to the

Enigma network.</p>

</dd>

<dt><a href="#computeTask">computeTask(fn, args, gasLimit, gasPx, sender, scAddr)</a> ⇒ <code>Task</code></dt>

<dd><p>Create a compute task - creates base task, creates task record, and sends task to the Enigma network.</p>

</dd>

<dt><a href="#version">version()</a> ⇒ <code>string</code></dt>

<dd><p>Return the version number of the library</p>

</dd>

</dl>

<p><a name="admin"></a></p>
<h2 id="admin">admin()</h2>
<p>Initialize the worker-specific admin features</p>
<p><strong>Kind</strong>: global function</p>
<p><a name="createContracts"></a></p>
<h2 id="createcontractsenigmacontractaddr-tokencontractaddr">createContracts(enigmaContractAddr, tokenContractAddr)</h2>
<p>Initialize the Enigma and Enigma token contracts</p>
<p><strong>Kind</strong>: global function</p>
<p>| Param | Type |</p>
<p>| --- | --- |</p>
<p>| enigmaContractAddr | <code>string</code> |</p>
<p>| tokenContractAddr | <code>string</code> |</p>
<p><a name="createTask"></a></p>
<h2 id="createtaskfn-args-gaslimit-gaspx-sender-scaddrorprecode-iscontractdeploymenttask-task">createTask(fn, args, gasLimit, gasPx, sender, scAddrOrPreCode, isContractDeploymentTask) ⇒ <code>Task</code></h2>
<p>Create a base Task - a wrapper for a task (either contract deployments or regular tasks)</p>
<p><strong>Kind</strong>: global function</p>
<p><strong>Returns</strong>: <code>Task</code> - Task with base attributes to be used for remainder of task lifecycle</p>
<p>| Param | Type | Description |</p>
<p>| --- | --- | --- |</p>
<p>| fn | <code>string</code> | Function name |</p>
<p>| args | <code>Array</code> | Inputs for task in the form of [[arg1, '<type>'], ..., [argn, '<type>']] |</p>
<p>| gasLimit | <code>Number</code> | ENG gas limit for task computation |</p>
<p>| gasPx | <code>Number</code> | ENG gas price for task computation |</p>
<p>| sender | <code>string</code> | ETH address for task sender |</p>
<p>| scAddrOrPreCode | <code>string</code> | Either secret contract address or precode, depending on if user is running a contract deployment or regular task |</p>
<p>| isContractDeploymentTask | <code>boolean</code> | Is this task a contract deployment task (if not, it's a regular task) |</p>
<p><a name="createTaskRecord"></a></p>
<h2 id="createtaskrecordtask-eventemitter">createTaskRecord(task) ⇒ <code>EventEmitter</code></h2>
<p>Create and store a task record on chain (ETH). Task records are necessary for collecting the ENG computation fee</p>
<p>and computing the immutable taskId (a unique value for each task computed from hash(hash(encrypted function</p>
<p>signature, encrypted ABI-encoded arguments, gas limit, gas price, user's public key), user's nonce value</p>
<p>monotonically increasing for every task deployment). Thus, task records have important implications for task</p>
<p>ordering, fee payments, and verification.</p>
<p><strong>Kind</strong>: global function</p>
<p><strong>Returns</strong>: <code>EventEmitter</code> - EventEmitter to be listened to track creation of task record. Emits a Task with task</p>
<p>record creation attributes to be used for remainder of task lifecycle</p>
<p>| Param | Type | Description |</p>
<p>| --- | --- | --- |</p>
<p>| task | <code>Task</code> | Task wrapper for contract deployment and regular tasks |</p>
<p><a name="createTaskRecords"></a></p>
<h2 id="createtaskrecordstasks-eventemitter">createTaskRecords(tasks) ⇒ <code>EventEmitter</code></h2>
<p>Create and store task records on chain (ETH). Task records are necessary for collecting the ENG computation fee</p>
<p>and computing the immutable taskId (a unique value for each task computed from hash(hash(encrypted function</p>
<p>signature, encrypted ABI-encoded arguments, gas limit, gas price, user's public key), user's nonce value</p>
<p>monotonically increasing for every task deployment). Thus, task records have important implications for task</p>
<p>ordering, fee payments, and verification.</p>
<p><strong>Kind</strong>: global function</p>
<p><strong>Returns</strong>: <code>EventEmitter</code> - EventEmitter to be listened to track creation of task records. Emits Tasks with task</p>
<p>record creation attributes to be used for remainder of task lifecycle</p>
<p>| Param | Type | Description |</p>
<p>| --- | --- | --- |</p>
<p>| tasks | <code>Array</code> | Task wrappers for contract deployment and regular tasks |</p>
<p><a name="getTaskRecordStatus"></a></p>
<h2 id="gettaskrecordstatustask-promise">getTaskRecordStatus(task) ⇒ <code>Promise</code></h2>
<p>Get the Task's task record status from Ethereum</p>
<p><strong>Kind</strong>: global function</p>
<p><strong>Returns</strong>: <code>Promise</code> - Resolves to Task wrapper with updated ethStatus and proof properties</p>
<p>| Param | Type | Description |</p>
<p>| --- | --- | --- |</p>
<p>| task | <code>Task</code> | Task wrapper for contract deployment and regular tasks |</p>
<p><a name="getReport"></a></p>
<h2 id="getreportcustodian-promise">getReport(custodian) ⇒ <code>Promise</code></h2>
<p>Find SGX report</p>
<p><strong>Kind</strong>: global function</p>
<p><strong>Returns</strong>: <code>Promise</code> - Resolves to SGX report for the worker</p>
<p>| Param | Type | Description |</p>
<p>| --- | --- | --- |</p>
<p>| custodian | <code>string</code> | Worker's address |</p>
<p><a name="getWorkerParams"></a></p>
<h2 id="getworkerparamsblocknumber-promise">getWorkerParams(blockNumber) ⇒ <code>Promise</code></h2>
<p>Given a block number, obtain the worker parameters. These parameters remain the same for a given secret</p>
<p>contract and epoch (fixed number of blocks). These parameters are cached until the epoch changes.</p>
<p><strong>Kind</strong>: global function</p>
<p><strong>Returns</strong>: <code>Promise</code> - Resolves to the worker params, which includes a seed (random int generated from the principal</p>
<p>node), first block number for the epoch, list of active work addresses (ordered list of workers that were logged</p>
<p>in at the start of the epoch), and list of active worker balances</p>
<p>| Param | Type | Description |</p>
<p>| --- | --- | --- |</p>
<p>| blockNumber | <code>int</code> | Block number of task record's mining |</p>
<p><a name="selectWorkerGroup"></a></p>
<h2 id="selectworkergroupscaddr-params-workergroupsize-array">selectWorkerGroup(scAddr, params, workerGroupSize) ⇒ <code>Array</code></h2>
<p>Select the workers weighted-randomly based on the staked token amount that will run the computation task</p>
<p><strong>Kind</strong>: global function</p>
<p><strong>Returns</strong>: <code>Array</code> - An array of selected workers where each selected worker is chosen with probability equal to</p>
<p>number of staked tokens</p>
<p>| Param | Type | Default | Description |</p>
<p>| --- | --- | --- | --- |</p>
<p>| scAddr | <code>string</code> |  | Secret contract address |</p>
<p>| params | <code>Object</code> |  | Worker params |</p>
<p>| workerGroupSize | <code>number</code> | <code>5</code> | Number of workers to be selected for task |</p>
<p><a name="sendTaskInput"></a></p>
<h2 id="sendtaskinputtask-eventemitter">sendTaskInput(task) ⇒ <code>EventEmitter</code></h2>
<p>Send Task to Enigma p2p network for computation</p>
<p><strong>Kind</strong>: global function</p>
<p><strong>Returns</strong>: <code>EventEmitter</code> - EventEmitter to be listened to track submission of Task to Enigma p2p network. Emits</p>
<p>a response from the ENG network indicating whether client is ready to track the remainder of the task lifecycle</p>
<p>| Param | Type | Description |</p>
<p>| --- | --- | --- |</p>
<p>| task | <code>Task</code> | Task wrapper for contract deployment and regular tasks |</p>
<p><a name="getTaskResult"></a></p>
<h2 id="gettaskresulttask-eventemitter">getTaskResult(task) ⇒ <code>EventEmitter</code></h2>
<p>Get task result from p2p network</p>
<p><strong>Kind</strong>: global function</p>
<p><strong>Returns</strong>: <code>EventEmitter</code> - EventEmitter to be listened to track getting result from Enigma network. Emits</p>
<p>a response from the ENG network.</p>
<p>| Param | Type | Description |</p>
<p>| --- | --- | --- |</p>
<p>| task | <code>Task</code> | Task wrapper for contract deployment and regular tasks |</p>
<p><a name="pollTaskStatusGen"></a></p>
<h2 id="polltaskstatusgentask-withresult">pollTaskStatusGen(task, withResult)</h2>
<p>Generator function for polling the Enigma p2p network for task status</p>
<p><strong>Kind</strong>: global function</p>
<p>| Param | Type | Description |</p>
<p>| --- | --- | --- |</p>
<p>| task | <code>Task</code> | Task wrapper for contract deployment and regular tasks |</p>
<p>| withResult | <code>boolean</code> | Task wrapper for contract deployment and regular tasks |</p>
<p><a name="innerPollTaskStatus"></a></p>
<h2 id="innerpolltaskstatustask-generator-emitter">innerPollTaskStatus(task, generator, emitter)</h2>
<p>Inner poll status function that continues to poll the Enigma p2p network until the task has been verified</p>
<p><strong>Kind</strong>: global function</p>
<p>| Param | Type | Description |</p>
<p>| --- | --- | --- |</p>
<p>| task | <code>Task</code> | Task wrapper for contract deployment and regular tasks |</p>
<p>| generator | <a href="#pollTaskStatusGen"><code>pollTaskStatusGen</code></a> | Generator function for polling Enigma p2p network for task status |</p>
<p>| emitter | <code>EventEmitter</code> | EventEmitter to track Enigma p2p network polling for Task status |</p>
<p><a name="pollTaskStatus"></a></p>
<h2 id="polltaskstatustask-withresult-eventemitter">pollTaskStatus(task, withResult) ⇒ <code>EventEmitter</code></h2>
<p>Poll the Enigma p2p network for a TaskInput's status</p>
<p><strong>Kind</strong>: global function</p>
<p><strong>Returns</strong>: <code>EventEmitter</code> - EventEmitter to be listened to track polling the Enigma p2p network for a Task status.</p>
<p>Emits a Task with task result attributes</p>
<p>| Param | Type | Default | Description |</p>
<p>| --- | --- | --- | --- |</p>
<p>| task | <code>Task</code> |  | Task wrapper for contract deployment and regular tasks |</p>
<p>| withResult | <code>boolean</code> | <code>false</code> | Task wrapper for contract deployment and regular tasks |</p>
<p><a name="serializeTask"></a></p>
<h2 id="serializetasktask-object">serializeTask(task) ⇒ <code>Object</code></h2>
<p>Serialize Task for submission to the Enigma p2p network</p>
<p><strong>Kind</strong>: global function</p>
<p><strong>Returns</strong>: <code>Object</code> - Serialized Task for submission to the Enigma p2p network</p>
<p>| Param | Type | Description |</p>
<p>| --- | --- | --- |</p>
<p>| task | <code>Task</code> | Task wrapper for contract deployment and regular tasks |</p>
<p><a name="obtainTaskKeyPair"></a></p>
<h2 id="obtaintaskkeypair-object">obtainTaskKeyPair() ⇒ <code>Object</code></h2>
<p>Deterministically generate a key-secret pair necessary for deriving a shared encryption key with the selected</p>
<p>worker. This pair will be stored in local storage for quick retrieval.</p>
<p><strong>Kind</strong>: global function</p>
<p><strong>Returns</strong>: <code>Object</code> - Public key-private key pair</p>
<p><a name="deploySecretContract"></a></p>
<h2 id="deploysecretcontractfn-args-gaslimit-gaspx-sender-precode-task">deploySecretContract(fn, args, gasLimit, gasPx, sender, preCode) ⇒ <code>Task</code></h2>
<p>Create a task to deploy a secret contract - creates base task, creates task record, and sends task to the</p>
<p>Enigma network.</p>
<p><strong>Kind</strong>: global function</p>
<p><strong>Returns</strong>: <code>Task</code> - Task with attributes necessary for task record and Enigma network</p>
<p>| Param | Type | Description |</p>
<p>| --- | --- | --- |</p>
<p>| fn | <code>string</code> | Function name |</p>
<p>| args | <code>Array</code> | Inputs for task in the form of [[arg1, '<type>'], ..., [argn, '<type>']] |</p>
<p>| gasLimit | <code>Number</code> | ENG gas limit for task computation |</p>
<p>| gasPx | <code>Number</code> | ENG gas price for task computation |</p>
<p>| sender | <code>string</code> | ETH address for task sender |</p>
<p>| preCode | <code>string</code> | Precode for contract deployment |</p>
<p><a name="computeTask"></a></p>
<h2 id="computetaskfn-args-gaslimit-gaspx-sender-scaddr-task">computeTask(fn, args, gasLimit, gasPx, sender, scAddr) ⇒ <code>Task</code></h2>
<p>Create a compute task - creates base task, creates task record, and sends task to the Enigma network.</p>
<p><strong>Kind</strong>: global function</p>
<p><strong>Returns</strong>: <code>Task</code> - Task with attributes necessary for task record and Enigma network</p>
<p>| Param | Type | Description |</p>
<p>| --- | --- | --- |</p>
<p>| fn | <code>string</code> | Function name |</p>
<p>| args | <code>Array</code> | Inputs for task in the form of [[arg1, '<type>'], ..., [argn, '<type>']] |</p>
<p>| gasLimit | <code>Number</code> | ENG gas limit for task computation |</p>
<p>| gasPx | <code>Number</code> | ENG gas price for task computation |</p>
<p>| sender | <code>string</code> | ETH address for task sender |</p>
<p>| scAddr | <code>string</code> | Secret contract address |</p>
<p><a name="version"></a></p>
<h2 id="version-string">version() ⇒ <code>string</code></h2>
<p>Return the version number of the library</p>
<p><strong>Kind</strong>: global function</p>
<p>Ainsleys-MacBook-Pro:api ainsleyenigma$</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../IntroductionToEnigmaJS/" title="About EnigmaJS" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                About EnigmaJS
              </span>
            </div>
          </a>
        
        
          <a href="../SecretContracts/" title="Overview" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Overview
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.2ba8dec4.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>